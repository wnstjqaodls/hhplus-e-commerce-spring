# λ¶€ν• ν…μ¤νΈ μ‹¤ν–‰ κ²°κ³Ό λ΅κ·Έ

## ν…μ¤νΈ μ‹¤ν–‰ ν™κ²½
- λ‚ μ§: 2025-09-14
- ν…μ¤νΈ λ„κµ¬: k6
- μΈν”„λΌ: Docker Compose (MySQL, Redis, Kafka)

## μ‹¤ν–‰λ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

### 1. Smoke Test κ²°κ³Ό
```
μ‹λ‚λ¦¬μ¤: κΈ°λ³Έ κΈ°λ¥ κ²€μ¦
κ°€μƒ μ‚¬μ©μ: 2λ…
μ§€μ† μ‹κ°„: 2λ¶„
κ²°κ³Ό: β… ν†µκ³Ό
- HTTP μ”μ²­ μ„±κ³µλ¥ : 100%
- ν‰κ·  μ‘λ‹µμ‹κ°„: 150ms
```

### 2. Load Test κ²°κ³Ό
```
μ‹λ‚λ¦¬μ¤: μ •μƒ μ΄μ λ¶€ν• μ‹λ®¬λ μ΄μ…
κ°€μƒ μ‚¬μ©μ: 10-20λ…
μ§€μ† μ‹κ°„: 14λ¶„
κ²°κ³Ό: β… ν†µκ³Ό
- HTTP μ”μ²­ μ„±κ³µλ¥ : 98.5%
- ν‰κ·  μ‘λ‹µμ‹κ°„: 250ms
- 95% λ°±λ¶„μ„μ: 480ms
- μ²λ¦¬λ‰: 15 TPS
```

### 3. Concurrent Coupon Test κ²°κ³Ό
```
μ‹λ‚λ¦¬μ¤: λ™μ‹ μΏ ν° λ°κΈ‰ κ²½ν•© ν…μ¤νΈ
κ°€μƒ μ‚¬μ©μ: 100λ… μ¤νμ΄ν¬
μ§€μ† μ‹κ°„: 50μ΄
κ²°κ³Ό: β οΈ μ£Όμ ν•„μ”
- μΏ ν° λ°κΈ‰ μ„±κ³µλ¥ : 25% (μμƒ λ²”μ„ λ‚΄)
- ν‰κ·  μ‘λ‹µμ‹κ°„: 450ms
- 95% λ°±λ¶„μ„μ: 850ms
- μΉ΄ν”„μΉ΄ λ©”μ‹μ§€ μ²λ¦¬: μ •μƒ
- μ‹μ¤ν… μ•μ •μ„±: μ–‘νΈ
```

### 4. Distributed Lock Test κ²°κ³Ό
```
μ‹λ‚λ¦¬μ¤: λ¶„μ‚° λ½ κ²½ν•© ν…μ¤νΈ
κ°€μƒ μ‚¬μ©μ: 30-50λ…
μ§€μ† μ‹κ°„: 2λ¶„
κ²°κ³Ό: β κ°μ„  ν•„μ”
- ν¬μΈνΈ μ¶©μ „ μ„±κ³µλ¥ : 75%
- μ£Όλ¬Έ κ²°μ  μ„±κ³µλ¥ : 68%
- λ½ κ²½ν•©λ¥ : 35%
- ν‰κ·  μ‘λ‹µμ‹κ°„: 1200ms
- λ°λ“λ½ λ°μƒ: 3κ±΄
```

## λ°κ²¬λ μ„±λ¥ μ΄μ

### π¨ Critical Issues
1. **λ¶„μ‚° λ½ νƒ€μ„μ•„μ›ƒ**: κ³ λ¶€ν• μ‹ λ½ νλ“ μ§€μ—°μΌλ΅ μΈν• μ„±λ¥ μ €ν•
2. **λ°λ“λ½ λ°μƒ**: λ™μ‹ μ‚¬μ©μ μ¦κ°€ μ‹ κ°„ν—μ  λ°λ“λ½ λ°μƒ
3. **μ‘λ‹µμ‹κ°„ μ¦κ°€**: 50λ… μ΄μƒ λ™μ‹ μ ‘μ† μ‹ μ‘λ‹µμ‹κ°„ κΈ‰κ²©ν μ¦κ°€

### β οΈ Warning Issues
1. **DB μ»¤λ„¥μ… ν’€**: κ³ λ¶€ν• μ‹ μ»¤λ„¥μ… λ€κΈ° μ‹κ°„ μ¦κ°€
2. **Redis λ©”λ¨λ¦¬**: λ½ μ •λ³΄ λ„μ μΌλ΅ λ©”λ¨λ¦¬ μ‚¬μ©λ‰ μ¦κ°€
3. **μΉ΄ν”„μΉ΄ μ§€μ—°**: λ€λ‰ μΏ ν° λ°κΈ‰ μ”μ²­ μ‹ λ©”μ‹μ§€ μ²λ¦¬ μ§€μ—°

### β… Stable Components
1. **μƒν’ μ΅°ν API**: μ•μ •μ μΈ μ„±λ¥ μ μ§€
2. **ν¬μΈνΈ μ”μ•΅ μ΅°ν**: λΉ λ¥Έ μ‘λ‹µ μ†λ„
3. **μ‹μ¤ν… λ³µκµ¬λ ¥**: λ¶€ν• ν•΄μ  ν›„ μ •μƒ λ³µκµ¬

## μ„±λ¥ λ²¤μΉλ§ν¬ κ²°κ³Ό

| API μ—”λ“ν¬μΈνΈ | λ©ν‘ TPS | μ‹¤μ  TPS | λ©ν‘ μ‘λ‹µμ‹κ°„ | μ‹¤μ  P95 | λ‹¬μ„± μ—¬λ¶€ |
|----------------|----------|----------|---------------|----------|-----------|
| GET /products | 100 | 85 | 200ms | 180ms | β… |
| GET /products/{id} | 80 | 95 | 100ms | 85ms | β… |
| POST /points/charge | 50 | 35 | 500ms | 650ms | β |
| GET /points/balance/{userId} | 30 | 40 | 100ms | 90ms | β… |
| POST /orders/order-and-pay | 20 | 12 | 1000ms | 1200ms | β |
| POST /coupons/{couponId}/issue/{userId} | 100 | 120 | 300ms | 280ms | β… |

## λ‹¤μ λ‹¨κ³„: STEP 20 μ„±λ¥ κ°μ„ 
1. **λ¶„μ‚° λ½ μµμ ν™”**: λ½ νƒ€μ„μ•„μ›ƒ μ΅°μ • λ° μ¬μ‹λ„ λ΅μ§ κ°μ„ 
2. **DB μµμ ν™”**: μΈλ±μ¤ μµμ ν™” λ° μ»¤λ„¥μ… ν’€ νλ‹
3. **μΊμ‹± μ „λµ**: Redis μΊμ‹± ν™μ©ν• μ΅°ν μ„±λ¥ ν–¥μƒ
4. **λΉ„λ™κΈ° μ²λ¦¬**: μΏ ν° λ°κΈ‰ ν”„λ΅μ„Έμ¤ μµμ ν™”